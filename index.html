<!DOCTYPE html>
<html>
	<head>
		<title>JSON-to-Go: Convert JSON to Go instantly</title>
		<meta charset="UTF-8">
        <script src="json-to-go.js"></script>
        <script src="json-to-rust.js"></script>
		<script>
            function test(){
            var input = document.getElementById("input").innerText;
            let output = jsonToGo(input, "", true, false,true);
            // console.log(input)
            document.getElementById("output").innerHTML=output.go;
        } 
        function test1(){
            var input = document.getElementById("input").innerText;
            let output = jsonToRust(input, "", true, false,true);
            // console.log(output.rust);
            document.getElementById("output").innerHTML=output.rust;
        } 
        function co(){
            var elm = document.getElementById("output");
            // other browsers
			var selection = window.getSelection();
			var range = document.createRange();

			range.selectNodeContents(elm);
			selection.removeAllRanges();
			selection.addRange(range);

			document.execCommand("Copy");
        }
		</script>
		<link rel="stylesheet" href="res/css/common.css">
	</head>
	<body>
		<header>
			<div class="intro">
				<div class="title">
                    <button style="width: 60px; height: 40px;" onclick="test()">go</button>
                    <button style="width: 60px; height: 40px;" onclick="test1()">rust</button>
                    <button style="width: 60px; height: 40px;" onclick="co()">Copy</button>
				</div>
			</div>
		</header>
		<table>
			<tr>
				<th style="width: 45%;">JSON</th>
				<th style="width: 10%; font-size: 22px;">&#8594;</th>
				<th style="width: 45%;">Go</th>
			</tr>
		</table>
		<table>
			<tr>
				<td style="width: 50%;">
					<div id="input"  contenteditable></div>
				</td>
				<td style="width: 50%;">
					<div id="output"></div>
				</td>
			</tr>
		</table>

		<footer>
			&copy; 2015 Matt Holt
		</footer>
	</body>
</html>